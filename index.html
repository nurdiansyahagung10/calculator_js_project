<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel='stylesheet'
        href='https://cdn-uicons.flaticon.com/2.0.0/uicons-solid-straight/css/uicons-solid-straight.css'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>

<style>
    * {
        font-family: 'Poppins', sans-serif;
        transition: 0.3s ease-in-out all;
    }

    table tbody tr td {
        background: #425062 !important;
    }

    .bs {
        background: #404D5E !important;
    }

    td:hover {
        cursor: pointer;
        background-color: #E0B612 !important;
        color: white !important;
    }

    .blinked {
        opacity: 5%;
    }

::-webkit-scrollbar{
    height: 3px !important;
    width: 3px !important;
}


::-webkit-scrollbar-track {
  background:  transparent;
      height: 4px !important;

}

::-webkit-scrollbar-thumb {
  background: gray;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

.text-muncul{
      width: 100%;
  background-color: transparent;
  resize: none;
  min-height: 25px;
  height: auto;
}
</style>

<body class="bg-light">

    <div class="container p-5">
        <div class=" rounded-3 shadow mx-auto " style=" width: auto; max-width: 400px;  background: #3A4655;">
            <div class="p-3">
                <div style="min-height: 35px; height: auto; border-bottom:  dashed 1px lightgray;"
                    class="d-flex align-items-center flex-nowrap  gap-2 text-light type_math overflow-x-auto overflow-y-hidden">
                </div>
                <div style="height: 25px;">
                    <span class="text-white small type_alert"></span>
                </div>
                <div style=" word-wrap: break-word; text-align:  right;" class=" py-1 p-0 pb-0 h5  text-muncul"><span
                        class="text-white type_num "  ></span><span id="blink" style="color: #E0B612;">|</span></div>
            </div>
            <table class="table table-dark mb-0 overflow-hidden" style="border-collapse: separate;">
                <tbody>
                    <tr>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs delete" style="color: #D95D4E;">C</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs symbol ">S</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs backspace"><i class="fi fi-ss-delete"></i>
                        </td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs bmenu s-switch"><a
                                class="d-block text-white text-decoration-none" data-bs-toggle="offcanvas"
                                href="#offcanvasExample" role="button" aria-controls="offcanvasExample"><i
                                    class="fi fi-ss-apps"></i></a></td>
                                                            <td class=" col-3 h4 p-3 pt-4 text-center bs  s-switch b-sim d-none">^</td>

                    </tr>
                    <tr>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba">7</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba">8</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba">9</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center d-none ba">⁷</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center d-none ba">⁸</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center d-none ba">⁹</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs bplus s-switch ">+</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs kurka s-switch d-none">(</td>
                    </tr>
                    <tr>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba">4</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba">5</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba">6</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center d-none ba">⁴</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center d-none ba">⁵</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center d-none ba">⁶</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs bmin s-switch ">-</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs kurtup s-switch d-none">)</td>
                    </tr>
                    <tr>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba">3</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba">2</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba">1</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba d-none">³</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba d-none">²</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba d-none">¹</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs bli s-switch ">X</td>
                                                <td class=" col-3 h4 p-3 pt-4 text-center bs s-switch d-none">π</td>

                    </tr>
                    <tr>
                        <td class=" col-3 h4 p-3 pt-4 text-center bt">.</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba d-none">⁰</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center ba ">0</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bhasil">=</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs bgi s-switch ">:</td>
                        <td class=" col-3 h4 p-3 pt-4 text-center bs s-switch d-none">√</td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>
    <div class="offcanvas offcanvas-start" style="background-color: #3A4655;" tabindex="-1" id="offcanvasExample"
        aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title text-white" id="offcanvasExampleLabel">Options</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <table class="table table-dark mb-0 pb-0" style="border-collapse: separate;">
                <tbody>
                    <tr>
                        <td class="col-1 h6 p-3 text-center bs bbiasa" style="color: #D95D4E;"
                            data-bs-dismiss="offcanvas">Calculator <br> Biasa</td>
                    </tr>
                    <tr>
                        <td class="col-1 h6 p-3 text-center bs bmeanT " data-bs-dismiss="offcanvas">Mean<br>(Tunggal
                            atau kelompok)</td>
                    </tr>
                    <tr>
                        <td class="col-1 h6 p-3 text-center bs ">Median<br>(Tunggal ganjil)</td>
                    </tr>
                    <tr>
                        <td class="col-1 h6 p-3 text-center bs ">Median<br>(Tunggal genap)</td>
                    </tr>
                    <tr>
                        <td class="col-1 h6 p-3 text-center bs ">Median<br>(Kelompok)</td>
                    </tr>
                    <tr>
                        <td class="col-1 h6 p-3 text-center bs ">modus<br>(Tunggal)</td>
                    </tr>
                    <tr>
                        <td class="col-1 h6 p-3 text-center bs ">modus<br>(Tunggal)</td>
                    </tr>

                </tbody>
            </table>
        </div>
    </div>
    <script>
        const blink = document.getElementById('blink');
        const button_angka = document.querySelectorAll('.ba');
        let type_num = document.querySelector('.type_num');
        let type_alert = document.querySelector('.type_alert');
        let type_math = document.querySelector('.type_math');
        const button_bs = document.querySelector('.backspace');
        const button_delete = document.querySelector('.delete');
        const symbol = document.querySelector('.symbol');
        const button_titik = document.querySelector('.bt');
        const bmeanT = document.querySelector('.bmeanT');
        const bbiasa = document.querySelector('.bbiasa');
        const bplus = document.querySelector('.bplus');
        const bmin = document.querySelector('.bmin');
        const bli = document.querySelector('.bli');
        const bgi = document.querySelector('.bgi');
        const bhasil = document.querySelector('.bhasil');
        const bsim = document.querySelector('.b-sim');


        bsim.addEventListener('click', function () {
            button_angka.forEach(element => {
                element.classList.toggle('d-none');
            });
        });

        symbol.addEventListener('click', function () {
            document.querySelectorAll('.s-switch').forEach(element => {
                element.classList.toggle('d-none');
            });
        });

        bbiasa.addEventListener('click', function () {
            type_math.innerHTML = "";
            type_alert.innerHTML = "";
            type_num.innerHTML = "";
            bhasil.classList.remove('bhasilmean');

        });

        bhasil.addEventListener('click', function () {
            if (bhasil.classList.contains('bhasilmean')) {
                let grow = type_num.textContent;
                let sigfixi = document.querySelector('.sigfixi');
                let n = document.querySelector('.n');

                if (sigfixi.textContent == 'Σ (xi or xt).fi') {
                    if (grow.includes(':') || grow.includes('X') || grow.includes('⁰') || grow.includes('¹') || grow.includes('²') || grow.includes('³') || grow.includes('⁴') || grow.includes('⁵') || grow.includes('⁶') || grow.includes('⁷') || grow.includes('⁸') || grow.includes('⁹')) {
                        if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                            newgrowone = grow += ' 0';
                            let newgrow = newgrowone.replace(/:/g, '/');
                            let newgrowtwo = newgrow.replace(/X/g, '*');
                            let newgrowfinal = newgrowtwo;
                            while (newgrowfinal.includes('⁰') || newgrowfinal.includes('¹') || newgrowfinal.includes('²') || newgrowfinal.includes('³') || newgrowfinal.includes('⁴') || newgrowfinal.includes('⁵') || newgrowfinal.includes('⁶') || newgrowfinal.includes('⁷') || newgrowfinal.includes('⁸') || newgrowfinal.includes('⁹')) {
                                newgrowfinal = newgrowtwo.replace(/(\d*)\⁰/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '0';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d+)\¹/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '1';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d+)\²+/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '2';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d*)\³/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '3';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁴/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '4';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁵/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '5';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁶/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '6';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁷/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '7';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁸/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '8';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁹/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '9';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                            }

                            let nsigfixi = eval(newgrowfinal);
                            type_num.textContent = '';
                            sigfixi.textContent = nsigfixi;
                            type_alert.innerHTML = "masukan nilai untuk n";


                        } else {
                            let newgrow = grow.replace(/:/g, '/');
                            let newgrowtwo = newgrow.replace(/X/g, '*');
                            let newgrowfinal = newgrowtwo;
                            while (newgrowfinal.includes('⁰') || newgrowfinal.includes('¹') || newgrowfinal.includes('²') || newgrowfinal.includes('³') || newgrowfinal.includes('⁴') || newgrowfinal.includes('⁵') || newgrowfinal.includes('⁶') || newgrowfinal.includes('⁷') || newgrowfinal.includes('⁸') || newgrowfinal.includes('⁹')) {
                                newgrowfinal = newgrowtwo.replace(/(\d*)\⁰/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '0';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d+)\¹/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '1';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d+)\²+/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '2';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d*)\³/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '3';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁴/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '4';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁵/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '5';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁶/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '6';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁷/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '7';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁸/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '8';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁹/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '9';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                            }

                            let nsigfixi = eval(newgrowfinal);
                            type_num.textContent = '';
                            type_alert.innerHTML = "masukan nilai untuk n";
                            sigfixi.textContent = nsigfixi;

                        }

                    } else {

                        if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                            newgrowone = grow += ' 0';
                            let nsigfixi = eval(newgrowone);
                            type_num.textContent = '';
                            type_alert.innerHTML = "masukan nilai untuk n";
                            sigfixi.textContent = nsigfixi;

                        } else {
                            let nsigfixi = eval(grow);
                            type_num.textContent = '';
                            type_alert.innerHTML = "masukan nilai untuk n";
                            sigfixi.textContent = nsigfixi;

                        }
                    }


                }
                else if (n.textContent == 'n') {
                    if (grow.includes(':') || grow.includes('X') || grow.includes('⁰') || grow.includes('¹') || grow.includes('²') || grow.includes('³') || grow.includes('⁴') || grow.includes('⁵') || grow.includes('⁶') || grow.includes('⁷') || grow.includes('⁸') || grow.includes('⁹')) {
                        if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                            newgrowone = grow += ' 0';
                            let newgrow = newgrowone.replace(/:/g, '/');
                            let newgrowtwo = newgrow.replace(/X/g, '*');
                            let newgrowfinal = newgrowtwo;
                            while (newgrowfinal.includes('⁰') || newgrowfinal.includes('¹') || newgrowfinal.includes('²') || newgrowfinal.includes('³') || newgrowfinal.includes('⁴') || newgrowfinal.includes('⁵') || newgrowfinal.includes('⁶') || newgrowfinal.includes('⁷') || newgrowfinal.includes('⁸') || newgrowfinal.includes('⁹')) {
                                newgrowfinal = newgrowtwo.replace(/(\d*)\⁰/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '0';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d+)\¹/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '1';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d+)\²+/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '2';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d*)\³/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '3';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁴/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '4';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁵/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '5';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁶/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '6';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁷/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '7';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁸/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '8';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁹/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '9';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                            }
                            let nn = eval(newgrowfinal);
                            n.textContent = nn;

                            let rumusmean = document.querySelector('.rumusmean');
                            let hasil = eval(sigfixi / n);
                            type_num.textContent = hasil;
                            type_alert.innerHTML = "nilai mean nya adalah";


                        } else {
                            let newgrow = grow.replace(/:/g, '/');
                            let newgrowtwo = newgrow.replace(/X/g, '*');
                            let newgrowfinal = newgrowtwo;
                            while (newgrowfinal.includes('⁰') || newgrowfinal.includes('¹') || newgrowfinal.includes('²') || newgrowfinal.includes('³') || newgrowfinal.includes('⁴') || newgrowfinal.includes('⁵') || newgrowfinal.includes('⁶') || newgrowfinal.includes('⁷') || newgrowfinal.includes('⁸') || newgrowfinal.includes('⁹')) {
                                newgrowfinal = newgrowtwo.replace(/(\d*)\⁰/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '0';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d+)\¹/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '1';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d+)\²+/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '2';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d*)\³/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '3';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁴/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '4';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁵/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '5';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁶/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '6';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁷/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '7';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁸/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '8';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });


                                newgrowfinal = newgrowfinal.replace(/(\d*)\⁹/g, function (match, p1) {
                                    let sf = '';
                                    for (let i = 0; i < match.slice(p1.length).length; i++) {
                                        sf += '9';
                                    };

                                    if (newgrowfinal.includes('**')) {
                                        return p1 + sf;
                                    } else {
                                        return p1 + '**' + sf;

                                    }
                                });

                            }
                            let nn = eval(newgrowfinal);

                            let rumusmean = document.querySelector('.rumusmean');
                            let hasil = eval(sigfixi / n);
                            type_num.textContent = hasil;
                            type_alert.innerHTML = "nilai mean nya adalah";
                            n.textContent = nn;

                        }

                    } else {

                        if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                            newgrowone = grow += ' 0';
                            let nn = eval(newgrowone);

                            let rumusmean = document.querySelector('.rumusmean');
                            let hasil = eval(sigfixi / n);
                            type_num.textContent = hasil;
                            type_alert.innerHTML = "nilai mean nya adalah";
                            n.textContent = nn;

                        } else {
                            let nn = eval(grow);
                            let rumusmean = document.querySelector('.rumusmean');
                            let hasil = eval(sigfixi.textContent / nn);
                            type_num.textContent = hasil;
                            type_alert.innerHTML = "nilai mean nya adalah";
                            n.textContent = nn;

                        }
                    }

                }

            } else {
                let grow = type_num.textContent;
                if (grow.includes(':') || grow.includes('X') || grow.includes('⁰') || grow.includes('¹') || grow.includes('²') || grow.includes('³') || grow.includes('⁴') || grow.includes('⁵') || grow.includes('⁶') || grow.includes('⁷') || grow.includes('⁸') || grow.includes('⁹')) {
                    if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                        let newgrowone = grow += ' 0';
                        let newgrow = newgrowone.replace(/:/g, '/');
                        let newgrowtwo = newgrow.replace(/X/g, '*');
                        let newgrowfinal = newgrowtwo;
                        while (newgrowfinal.includes('⁰') || newgrowfinal.includes('¹') || newgrowfinal.includes('²') || newgrowfinal.includes('³') || newgrowfinal.includes('⁴') || newgrowfinal.includes('⁵') || newgrowfinal.includes('⁶') || newgrowfinal.includes('⁷') || newgrowfinal.includes('⁸') || newgrowfinal.includes('⁹')) {
                            newgrowfinal = newgrowtwo.replace(/(\d*)\⁰/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '0';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                            newgrowfinal = newgrowfinal.replace(/(\d+)\¹/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '1';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                            newgrowfinal = newgrowfinal.replace(/(\d+)\²+/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '2';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                            newgrowfinal = newgrowfinal.replace(/(\d*)\³/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '3';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁴/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '4';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁵/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '5';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁶/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '6';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁷/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '7';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁸/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '8';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁹/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '9';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                        }


                        type_num.textContent = eval(newgrowfinal);

                    } else {
                        let newgrow = grow.replace(/:/g, '/');
                        let newgrowtwo = newgrow.replace(/X/g, '*');
                        let newgrowfinal = newgrowtwo;
                        while (newgrowfinal.includes('⁰') || newgrowfinal.includes('¹') || newgrowfinal.includes('²') || newgrowfinal.includes('³') || newgrowfinal.includes('⁴') || newgrowfinal.includes('⁵') || newgrowfinal.includes('⁶') || newgrowfinal.includes('⁷') || newgrowfinal.includes('⁸') || newgrowfinal.includes('⁹')) {
                            newgrowfinal = newgrowtwo.replace(/(\d*)\⁰/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '0';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                            newgrowfinal = newgrowfinal.replace(/(\d+)\¹/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '1';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                            newgrowfinal = newgrowfinal.replace(/(\d+)\²+/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '2';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                            newgrowfinal = newgrowfinal.replace(/(\d*)\³/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '3';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁴/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '4';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁵/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '5';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁶/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '6';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁷/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '7';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁸/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '8';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });


                            newgrowfinal = newgrowfinal.replace(/(\d*)\⁹/g, function (match, p1) {
                                let sf = '';
                                for (let i = 0; i < match.slice(p1.length).length; i++) {
                                    sf += '9';
                                };

                                if (newgrowfinal.includes('**')) {
                                    return p1 + sf;
                                } else {
                                    return p1 + '**' + sf;

                                }
                            });

                        }

                        type_num.textContent = eval(newgrowfinal);

                    }

                } else {

                    if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                        newgrowone = grow += ' 0';

                        type_num.textContent = eval(newgrowone);

                    } else {
                        type_num.textContent = eval(grow);

                    }
                }

                type_math.textContent = grow;

            }

        });

        bmeanT.addEventListener('click', function () {
            type_math.innerHTML = "<span > x̅ = </span><div class='d-flex flex-column align-items-center'><span class='border-bottom border-2 sigfixi'>Σ (xi or xt).fi</span><span class='n'>n</span></div> <span class='rumusmean d-flex flex-nowrap'></span>";
            type_alert.innerHTML = "masukan nilai untuk Σ (xi or xt).fi";
            type_num.innerHTML = "";
            bhasil.classList.add('bhasilmean');
        })

        bplus.addEventListener('click', function () {
            let grow = type_num.textContent;
            let growt = type_num.textContent.length;
            if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                type_num.textContent = grow.slice(0, -1) + ' +';
            }
            else if (growt == 0) {
                type_num.textContent = '0' + ' +';
            }
            else {
                type_num.textContent = grow + ' +';
            }

        });
        bmin.addEventListener('click', function () {
            let grow = type_num.textContent;
            let growt = type_num.textContent.length;
            let argrow = grow.split(' ')


            if (argrow[argrow.length - 1].includes('-') && argrow[argrow.length - 2].includes('-')) {

            } else if (grow.slice(-1) == '+' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                type_num.textContent = grow.slice(0, -1) + ' -';
            }
            else if (argrow.length == 2 && argrow[argrow.length - 1].includes('-') && !argrow[argrow.length - 2].includes('1' || '2' || '3' || '4' || '5' || '6' || '7' || '8' || '9')) {
            } else {
                type_num.textContent = grow + ' -';
            }

        });
        bli.addEventListener('click', function () {
            let grow = type_num.textContent;
            let growt = type_num.textContent.length;
            if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                type_num.textContent = grow.slice(0, -1) + ' X';
            }
            else if (growt == 0) {
                type_num.textContent = '0' + ' X';
            }
            else {
                type_num.textContent = grow + ' X';
            }

        });
        bgi.addEventListener('click', function () {
            let grow = type_num.textContent;
            let growt = type_num.textContent.length;
            if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                type_num.textContent = grow.slice(0, -1) + ' :';
            }
            else if (growt == 0) {
                type_num.textContent = '0' + ' :';
            }
            else {
                type_num.textContent = grow + ' :';
            }

        });

        button_titik.addEventListener('click', function () {
            let grow = type_num.textContent;
            let growt = type_num.textContent.length;
            let argrow = grow.split(' ');
            let data = argrow.length - 1;

            if (argrow[data].includes('.')) {

            } else if (growt == 0 || grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                type_num.textContent = grow + ' 0' + '.';
            }
            else {
                type_num.textContent = grow + '.';
            }
        });

        button_delete.addEventListener('click', function () {
            if (bhasil.classList.contains('bhasilmean')) {
                type_math.innerHTML = "<span > x̅ = </span><div class='d-flex flex-column align-items-center'><span class='border-bottom border-2 sigfixi'>Σ (xi or xt).fi</span><span class='n'>n</span></div> <span class='rumusmean d-flex flex-nowrap'></span>";
                type_alert.innerHTML = "masukan nilai untuk Σ (xi or xt).fi";
                type_num.innerHTML = "";
            } else {
                type_num.textContent = '';
                type_alert.textContent = '';
                type_math.textContent = '';
            }
        });

        button_bs.addEventListener('click', function () {
            let grow = type_num.textContent;
            type_num.textContent = grow.slice(0, -1);
        });

        button_angka.forEach(element => {
            element.addEventListener('click', function () {
                let grow = type_num.textContent;
                const value_button = element.textContent;
                if (grow.length >= 50) {
                    
                }else{

                if (value_button == '⁰' || value_button == '¹' || value_button == '²' || value_button == '³' || value_button == '⁴' || value_button == '⁵' || value_button == '⁶' || value_button == '⁷' || value_button == '⁸' || value_button == '⁹') {
                    if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X' || grow == '') {
                        type_num.textContent += ' 0' + value_button;
                    } else {
                        type_num.textContent += value_button;
                    }
                } else if (grow.slice(-1) == '+' || grow.slice(-1) == '-' || grow.slice(-1) == ':' || grow.slice(-1) == 'X') {
                    type_num.textContent += ' ' + value_button;
                }
                else if (grow.slice(-1) == '⁰' || grow.slice(-1) == '¹' || grow.slice(-1) == '²' || grow.slice(-1) == '³' || grow.slice(-1) == '⁴' || grow.slice(-1) == '⁵' || grow.slice(-1) == '⁶' || grow.slice(-1) == '⁷' || grow.slice(-1) == '⁸' || grow.slice(-1) == '⁹') {
                    type_num.textContent += ' X ' + value_button;

                }
                else {
                    type_num.textContent += value_button;
                }
                                }

            });
        });

        setInterval(function () {
            blink.classList.toggle('blinked');
        }, 500);
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>

</body>

</html>